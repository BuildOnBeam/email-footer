<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Email Footer Generator</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
      <style>
        body,
        html {
            font-family: sans-serif, Helvetica;
            font-style: normal;
            font-weight: normal;
            font-size: 14px;
            line-height: 20px;
            color: #222222;
        }
        #app form label{
            display: inline-block;
            width: 200px;
        }

        /* Dark mode styles */
        @media (prefers-color-scheme: dark) {
            body,
            html {
                background-color: #121212;
                color: #ffffff;
            }
        }
    </style>
  </head>

  <body>
    <div id="app">
      <h1>Email Footer Generator</h1>
      <form @submit.prevent>
        <div>
          <label for="name">Name:</label>
          <input type="text" id="name" v-model="name" />
        </div>
        <div>
          <label for="email">Email:</label>
          <input type="email" id="email" v-model="email" />
        </div>
        <div>
          <label for="jobTitle">Job Title:</label>
          <input type="text" id="jobTitle" v-model="jobTitle" />
        </div>
        <div>
          <label for="phoneNumber">Phone Number:</label>
          <input type="tel" id="phoneNumber" v-model="phoneNumber" />
        </div>
        <div>
            <label for="phoneNumberCallable">Phone Number (clickable):</label>
            <input type="tel" id="phoneNumberCallable" v-model="phoneNumberCallable" />
          </div>
      </form>

      <hr />

      <div class="footer">
        <table style="display: block">
          <tr>
            <td style="padding: 0px;">
                <span style="margin-top: 14px; display: block;">Kind regards,</span>
            </td>
          </tr>
          <tr>
            <td style="padding: 0px;">
              <span
                style="
                  font-family: sans-serif, Helvetica;
                  font-style: normal;
                  font-weight: normal;
                  font-size: 16px;
                  line-height: 20px;
                  margin-top: 14px;
                  display: block;
                "
                >{{ name }}</span
              >
            </td>
          </tr>
          <tr>
            <td style="padding: 0px;">
              <span
                style="
                  font-family: sans-serif, Helvetica;
                  font-style: normal;
                  font-weight: normal;
                  font-size: 16px;
                  line-height: 20px;
                  color: #717171;
                  display: block;
                "
                >{{ jobTitle }}</span
              >
            </td>
          </tr>
          <tr>
            <td style="padding: 0px;">
              <a
                style="
                  text-decoration: none;
                  font-family: sans-serif, Helvetica;
                  font-style: normal;
                  font-weight: normal;
                  font-size: 14px;
                  line-height: 20px;
                  color: #717171;
                  margin-top: 14px;
                  display: block;
                "
                :href="'tel:' + phoneNumberCallable"
                >{{ phoneNumber }}</a
              >
            </td>
          </tr>
          <tr>
            <td style="padding: 0px;">
              <a
                style="
                  text-decoration: none;
                  font-family: sans-serif, Helvetica;
                  font-style: normal;
                  font-weight: normal;
                  font-size: 14px;
                  line-height: 20px;
                  color: #717171;
                  display: block;
                "
                :href="'mailto:' + email">{{ email }}</a
              >
            </td>
          </tr>
          <tr>
            <td style="padding: 0px;">
              <a href="https://meritcircle.io" target="_blank">
                <img
                  src="https://media.onbeam.com/logo.png"
                  width="175"
                  height="27"
                  style="margin-top: 16px; display: block;"
                  alt="OnBeam"
                />
              </a>
            </td>
          </tr>
        </table>
      </div>
      <hr />
      <h2>Set up the footer in gmail</h2>
      <ol>
        <li>Select the whole footer by clicking on the top left corner of the footer and dragging to the bottom right corner. And copy to clipboard.</li>
        <li>Open gmail</li>
        <li>Click on the gear icon in the top right corner</li>
        <li>Select "See all settings"</li>
        <li>Scroll down to "Signature"</li>
        <li>Click on "Manage signatures"</li>
        <li>Click on "New signature"</li>
        <li>Paste the footer HTML into the "Signature" field</li>
        <li>Click on "Save"</li>
      </ol>


      <button @click="copyFooterToClipboard">Copy Footer HTML (for other clients than gmail)</button>

    </div>

    <script>
      new Vue({
        el: "#app",
        data: {
          name: localStorage.getItem('name') || "John Doe",
          email: localStorage.getItem('email') || "hello@onbeam.com",
          jobTitle: localStorage.getItem('jobTitle') || "Software Engineer",
          phoneNumber: localStorage.getItem('phoneNumber') || "+316 12 345 678",
          phoneNumberCallable: localStorage.getItem('phoneNumberCallable') || "0031612345678",
        },
        watch: {
          name(newValue) {
            localStorage.setItem('name', newValue);
          },
          email(newValue) {
            localStorage.setItem('email', newValue);
          },
          jobTitle(newValue) {
            localStorage.setItem('jobTitle', newValue);
          },
          phoneNumber(newValue) {
            localStorage.setItem('phoneNumber', newValue);
          },
          phoneNumberCallable(newValue) {
            localStorage.setItem('phoneNumberCallable', newValue);
          }
        },
        methods: {
          copyFooterToClipboard() {
            const footerHtml = this.$el.querySelector('.footer').innerHTML;
            navigator.clipboard.writeText(footerHtml).then(() => {
              alert('Footer HTML copied to clipboard!');
            }).catch(err => {
              console.error('Failed to copy: ', err);
            });
          }
        }
      });
    </script>
  </body>
</html>
